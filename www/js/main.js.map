{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["//Inicialización general (DOM Ready)\n$(document).ready(function(){\n\n    // links disabled\n    $(document).on('click','a[href=\"#ToDo\"],a[href=\"#coming-soon\"],a[href=#empty]',function(event) {\n        event.preventDefault();\n    });\n\n    //Inicializando tooltips\n    $('[data-toggle=\"tooltip\"]').tooltip();\n\n\n    //Lanzar modal para confirmar eliminación de egresado\n    var $modalEliminar = $('#confirmarEliminar');\n    $('.btn-eliminar').on('click', function(e){\n        e.preventDefault();\n        $modalEliminar.modal();\n    });\n\n    //Lanzar modal para enviar datos de contacto\n    var $modalSolicitar = $('#solicitarContacto'),\n        $formSolicitar = $modalSolicitar.find('form');\n    $('#solicitarBtn').on('click', function(e){\n        e.preventDefault();\n        $modalSolicitar.find('.modal-body.formulario').show().find('.error').hide();\n        $modalSolicitar.find('.modal-body.post-ok').hide();\n        $modalSolicitar.modal();\n    });\n    // POST AJAX envío de mail\n    $modalSolicitar.find('button#solicitar-datos-egresado').click(function() {\n        var url = $formSolicitar.attr('action');\n        $('.spinner-container').show();\n        $.ajax({\n            url: url,\n            type: 'POST',\n            data: $formSolicitar.serialize()\n        })\n        .done(function(resp) {\n            if (resp.status && resp.status === 'ok') {\n                $modalSolicitar.find('.modal-body.formulario').hide();\n                $modalSolicitar.find('.modal-body.post-ok').fadeIn();\n            }\n            else {\n                var $error = $modalSolicitar.find('.modal-body.formulario .error');\n                $error.show();\n                if (resp.mensaje) {\n                    $error.find('.mensaje').html(resp.mensaje);\n                }\n                else {\n                    $error.find('.mensaje').html('');\n                }\n            }\n        })\n        .fail(function() {\n            var $error = $modalSolicitar.find('.modal-body.formulario .error');\n            $error.show();\n            $error.find('.mensaje').html('');\n        })\n        .always(function() {\n            $('.spinner-container').hide();\n        });\n\n    });\n    // prevent send form on enter key\n    $(document).on(\"keypress\", \"form:not(.login-form) :input:not(textarea)\", function(event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n        }\n    });\n\n});\n\n/* exported cargarSelectsEspecialidad */\n// Función usada tanto en form_egresado como en listado_egresados (filtros)\nfunction cargarSelectsEspecialidad(data) {\n    var especialidades = $.parseJSON(data.especialidades),\n        rubros, // sólo tipo oficios\n        $select_especialidad = $('select#especialidad'),\n        $select_rubro; // sólo tipo oficios\n    // Cacheo HTML de option placeholder\n    var options_especialidad,\n        placeholder_especialidad = $select_especialidad.html(),\n        placeholder_rubro;\n    if (data.tipo === 'tecnicos') {\n        // No hay select rubro y el select especialidad no cambia de forma dinámica:\n        //  se setea inicialmente y no se bindean cambios\n        options_especialidad = placeholder_especialidad;\n        $.each(especialidades,function(index,item){\n            options_especialidad += '<option value=\"'+item+'\">'+item+'</option>';\n        });\n        $select_especialidad.html(options_especialidad);\n        // Seteo options seleccionadas (sólo edición)\n        if (data.especialidad_selected) {\n            $select_especialidad.val(data.especialidad_selected);\n        }\n    }\n    else if (data.tipo === 'oficios') {\n        rubros = $.parseJSON(data.rubros);\n        $select_rubro = $('select#rubro');\n        placeholder_rubro = $select_rubro.html();\n        var options_rubro = placeholder_rubro;\n        $.each(rubros,function(index,item){\n            options_rubro += '<option value=\"'+item+'\">'+item+'</option>';\n        });\n        $select_rubro.html(options_rubro);\n        $select_especialidad.html('');\n        // Bindeo cambios en rubro para setear options especialidades\n        $select_rubro.change(function(){\n            var rubro = $select_rubro.val();\n            options_especialidad = placeholder_especialidad;\n            if (especialidades[rubro]) {\n                $.each(especialidades[rubro],function(index,item){\n                    options_especialidad += '<option value=\"'+item+'\">'+item+'</option>';\n                });\n                $select_especialidad.html(options_especialidad);\n            }\n            else {\n                $select_especialidad.html('');\n            }\n        });\n        // Seteo option seleccionada (sólo edición)\n        if (data.rubro_selected) {\n            $select_rubro.val(data.rubro_selected);\n            $select_rubro.trigger('change');\n            if (data.especialidad_selected) {\n                $select_especialidad.val(data.especialidad_selected);\n            }\n        }\n    }\n}"]}